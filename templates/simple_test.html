<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Form Test</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #1a1a1a; 
            color: white; 
            max-width: 600px; 
            margin: 0 auto; 
        }
        .form-group { 
            margin: 20px 0; 
            padding: 20px; 
            background: #2d2d2d; 
            border-radius: 8px; 
            border: 1px solid #444; 
        }
        input, button { 
            padding: 10px; 
            margin: 5px; 
            border-radius: 4px; 
            border: 1px solid #555; 
            font-size: 16px;
        }
        input[type="url"], input[type="text"] { 
            width: 100%; 
            background: #3d3d3d; 
            color: white; 
            box-sizing: border-box; 
        }
        input[type="file"] { 
            background: #3d3d3d; 
            color: white; 
            padding: 10px; 
            border: 2px dashed #555; 
            border-radius: 8px; 
            width: 100%; 
            box-sizing: border-box; 
        }
        button { 
            background: #007bff; 
            color: white; 
            border: none; 
            cursor: pointer; 
            padding: 12px 24px; 
            font-size: 16px; 
        }
        button:hover { background: #0056b3; }
        .result { 
            background: #333; 
            padding: 15px; 
            margin: 15px 0; 
            border-radius: 8px; 
            border-left: 4px solid #007bff; 
        }
        .success { border-left-color: #28a745; }
        .error { border-left-color: #dc3545; }
        .debug { 
            background: #1a1a1a; 
            padding: 10px; 
            border-radius: 4px; 
            font-family: monospace; 
            font-size: 12px; 
            margin: 10px 0; 
            overflow-x: auto; 
        }
    </style>
</head>
<body>
    <h1>üß™ Simple Form Test</h1>
    <p>This page tests basic form functionality without external dependencies.</p>
    
    <div class="form-group">
        <h3>Test 1: Basic Text Input</h3>
        <input type="text" id="text-input" placeholder="Type something here...">
        <button onclick="testTextInput()">Test Text Input</button>
        <div id="text-result" class="result"></div>
    </div>
    
    <div class="form-group">
        <h3>Test 2: URL Input</h3>
        <input type="url" id="url-input" placeholder="https://example.com">
        <button onclick="testUrlInput()">Test URL Input</button>
        <div id="url-result" class="result"></div>
    </div>
    
    <div class="form-group">
        <h3>Test 3: File Upload</h3>
        <input type="file" id="file-input" accept="image/*">
        <button onclick="testFileInput()">Test File Input</button>
        <div id="file-result" class="result"></div>
    </div>
    
    <div class="form-group">
        <h3>Test 4: Form Submission</h3>
        <form id="test-form" action="/debug" method="post" enctype="multipart/form-data">
            <input type="url" name="test_url" placeholder="Enter URL..." style="width: 100%; margin-bottom: 10px;">
            <input type="file" name="test_file" accept="image/*" style="width: 100%; margin-bottom: 10px;">
            <button type="submit">Submit Form</button>
        </form>
        <div id="form-result" class="result"></div>
    </div>
    
    <div class="form-group">
        <h3>Test 5: Main App Form</h3>
        <form action="/analyze" method="post" enctype="multipart/form-data">
            <input type="url" name="url" placeholder="https://example.com" style="width: 100%; margin-bottom: 10px;">
            <input type="file" name="file" accept="image/*" style="width: 100%; margin-bottom: 10px;">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px;">
                <input type="number" name="rows" value="12" min="6" max="24" placeholder="Rows">
                <input type="number" name="cols" value="8" min="6" max="24" placeholder="Columns">
            </div>
            <button type="submit">Analyze with AI</button>
        </form>
    </div>
    
    <div class="form-group">
        <h3>Debug Information</h3>
        <div id="debug-info" class="debug">
            <div>User Agent: <span id="user-agent"></span></div>
            <div>JavaScript Enabled: <span id="js-enabled"></span></div>
            <div>Form Elements Found: <span id="form-count"></span></div>
            <div>Input Elements Found: <span id="input-count"></span></div>
            <div>Current Time: <span id="current-time"></span></div>
        </div>
    </div>
    
    <div style="text-align: center; margin-top: 30px;">
        <a href="/" style="color: #007bff; text-decoration: none; padding: 10px 20px; border: 1px solid #007bff; border-radius: 4px;">‚Üê Back to Main App</a>
        <a href="/debug" style="color: #28a745; text-decoration: none; padding: 10px 20px; border: 1px solid #28a745; border-radius: 4px; margin-left: 10px;">üîß Advanced Debug</a>
    </div>
    
    <script>
        // Initialize debug info
        document.getElementById('user-agent').textContent = navigator.userAgent;
        document.getElementById('js-enabled').textContent = 'Yes';
        document.getElementById('form-count').textContent = document.forms.length;
        document.getElementById('input-count').textContent = document.querySelectorAll('input').length;
        document.getElementById('current-time').textContent = new Date().toLocaleString();
        
        function testTextInput() {
            const input = document.getElementById('text-input');
            const result = document.getElementById('text-result');
            if (input.value) {
                result.innerHTML = `<strong>Success:</strong> Input value: "${input.value}"`;
                result.className = 'result success';
            } else {
                result.innerHTML = '<strong>Error:</strong> No input value';
                result.className = 'result error';
            }
        }
        
        function testUrlInput() {
            const input = document.getElementById('url-input');
            const result = document.getElementById('url-result');
            if (input.value && input.checkValidity()) {
                result.innerHTML = `<strong>Success:</strong> Valid URL: "${input.value}"`;
                result.className = 'result success';
            } else {
                result.innerHTML = '<strong>Error:</strong> Invalid or empty URL';
                result.className = 'result error';
            }
        }
        
        function testFileInput() {
            const input = document.getElementById('file-input');
            const result = document.getElementById('file-result');
            if (input.files && input.files.length > 0) {
                const file = input.files[0];
                result.innerHTML = `<strong>Success:</strong> File selected: "${file.name}" (${(file.size / 1024).toFixed(2)} KB)`;
                result.className = 'result success';
            } else {
                result.innerHTML = '<strong>Error:</strong> No file selected';
                result.className = 'result error';
            }
        }
        
        // Test if inputs are responsive
        document.querySelectorAll('input').forEach(input => {
            input.addEventListener('focus', () => {
                console.log('Input focused:', input.type, input.name || input.id);
            });
            input.addEventListener('change', () => {
                console.log('Input changed:', input.type, input.name || input.id, input.value);
            });
            input.addEventListener('input', () => {
                console.log('Input typing:', input.type, input.name || input.id, input.value);
            });
        });
        
        // Test form submissions
        document.querySelectorAll('form').forEach((form, i) => {
            form.addEventListener('submit', (e) => {
                console.log(`Form ${i} submitted:`, form.action, form.method);
                // Don't prevent default for testing
            });
        });
        
        console.log('Simple test page loaded successfully');
        console.log('Forms found:', document.forms.length);
        console.log('Inputs found:', document.querySelectorAll('input').length);
        
        // Test if we can access DOM elements
        setTimeout(() => {
            const testInput = document.getElementById('text-input');
            if (testInput) {
                testInput.focus();
                console.log('Successfully focused text input');
            } else {
                console.error('Failed to find text input');
            }
        }, 1000);
    </script>
</body>
</html>
